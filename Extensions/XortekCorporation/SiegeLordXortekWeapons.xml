<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE TranscendenceModule
    [
    <!ENTITY itSiegeLordPlasmaCapsuleCannon       "0xD0120010">
    <!ENTITY itSiegeLordPlasmaCapsule             "0xD0120011">
    <!ENTITY efSiegeLordXortekPlasmaProj          "0xD0120012">
    <!ENTITY efSiegeLordXortekPlasmaFire          "0xD0120013">
    <!ENTITY itSiegeLordPlasmaTorpedoLauncher     "0xD0120016">
    <!ENTITY itSiegeLordPlasmaTorpedo             "0xD0120017">
    <!ENTITY efSiegeLordXortekPlasmaProjBig       "0xD0120018">
    <!ENTITY snSiegeLordXortekShort               "0xD0120021">
    <!ENTITY snSiegeLordXortekLong                "0xD0120022">
    ]>

<TranscendenceModule>
    <Sound UNID="&snSiegeLordXortekShort;" filename="Resources/short.wav"/>
    <Sound UNID="&snSiegeLordXortekLong;" filename="Resources/long.wav"/>
    
    <ItemType UNID="&itSiegeLordPlasmaCapsuleCannon;"
            name=               "plasma capsule cannon"
            attributes=         "majorItem, specialty, xortek"

            level=              "8"
            frequency=          "uncommon"

            value=              "95000"
            mass=               "3000"

            description=        "A miniaturized version of the Xortek plasma torpedo launcher, small enough to fit in standard weapon mounts. Uses magnetic capsules to contain plasma. Venting minute amounts of plasma allows the capsules to home in on their targets."
            >

        <Image imageID="&rsItems10;" imageX="192" imageY="0" imageWidth="96" imageHeight="96"/>

        <Weapon
                type=               "missile"
                fireRate=           "15"
                powerUse=           "600"
                reportAmmo=         "true"

                counter=            "capacitor"
                counterActivate=    "-5"
                counterUpdate=      "2"
                counterUpdateRate=  "5"
                >
            <Missiles>
                <Missile ammoID="&itSiegeLordPlasmaCapsule;"/>
            </Missiles>
        </Weapon>
    </ItemType>

    <ItemType UNID="&itSiegeLordPlasmaCapsule;"
            name=               "plasma capsule"
            attributes=         "premiumAmmo, consumable, missile, xortek"

            level=              "8"
            frequency=          "uncommon"
            numberAppearing=    "12d40"

            value=              "100"
            mass=               "10"

            description=        "Plasma capsules are filled with plasma by the Xortek plasma capsule cannon. Venting minute amounts of plasma allows the capsules to home in on their targets."
            >

        <Image imageID="&rsItemsRasiermesser1;" imageX="0" imageY="96" imageWidth="96" imageHeight="96"/>
        <Missile
                    type=           "missile"

                    damage=         "plasma:9d8+20; WMD1"
                    missileSpeed=   "50"
                    lifetime=       "60"
                    interaction=    "50"
                    maneuverRate=   "6"
                    hitPoints=      "40"

                    sound=          "&snSiegeLordXortekShort;"
                    effect=         "&efSiegeLordXortekPlasmaProj;"
                    hitEffect=      "&efPlasmaHitDefault;"
                    fireEffect=     "&efSiegeLordXortekPlasmaFire;"
                    >
        </Missile>
    </ItemType>

    <ItemType UNID="&itSiegeLordPlasmaTorpedoLauncher;"
            name=               "plasma torpedo launcher"
            attributes=         "majorItem, specialty, xortek"

            level=              "8"
            frequency=          "uncommon"

            value=              "135000"
            mass=               "3000"

            description=        "The fearsome Xortek plasma torpedo launcher is the pinnacle of Xortek corporation weapon and plasma research. Venting minute amounts of plasma allows the torpedoes to home in on their targets."
            >

        <Image imageID="&rsItems10;" imageX="0" imageY="192" imageWidth="96" imageHeight="96"/>

        <Weapon
                launcher=           "true"
                fireRate=           "45"
                powerUse=           "1600"
                reportAmmo=         "true"

                counter=            "capacitor"
                counterActivate=    "-30"
                counterUpdate=      "2"
                counterUpdateRate=  "5"
                >
            <Missiles>
                <Missile ammoID="&itSiegeLordPlasmaTorpedo;"/>
            </Missiles>
        </Weapon>
    </ItemType>

    <ItemType UNID="&itSiegeLordPlasmaTorpedo;"
            name=               "plasma torpedo"
            attributes=         "premiumAmmo, consumable, missile, xortek"

            level=              "8"
            frequency=          "uncommon"
            numberAppearing=    "10d40"

            value=              "250"
            mass=               "10"

            description=        "Plasma torpedoes are filled with plasma by the Xortek plasma torpedo launcher. Venting minute amounts of plasma allows the torpedoes to home in on their targets."
            >

        <Image imageID="&rsItemsRasiermesser1;" imageX="0" imageY="96" imageWidth="96" imageHeight="96"/>
        
        <Missile
                type=           "missile"

                damage=         "plasma:80d12+50; WMD5"
                missileSpeed=   "20"
                lifetime=       "80"
                interaction=    "50"
                maneuverRate=   "3"
                hitPoints=      "45"

                sound=          "&snSiegeLordXortekLong;"
                effect=         "&efSiegeLordXortekPlasmaProjBig;"
                hitEffect=      "&efPlasmaHitDefault;"
                fireEffect=     "&efSiegeLordXortekPlasmaFire;"
                >
        </Missile>
    </ItemType>
    
    <EffectType UNID="&efSiegeLordXortekPlasmaProjBig;"
            instance=           "creator"
            >
        <Effect>
            <ParticleSystem
                    style=              "jet"
                    fixedPos=           "true"
                    emitRate=           "40"
                    tangentSpeed=       "-12-12"
                    particleLifetime=   "1-6"
                    XformTime=          "0"
                    >
                <ParticleEffect>
                    <Particle
                            style=          "plain"
                            minWidth=       "1"
                            maxWidth=       "4"
                            primaryColor=   "#FFECD8"
                            secondaryColor= "#ff7f00"
                            />
                </ParticleEffect>
            </ParticleSystem>
            <Orb
                    style=              "fireblast"
                    spikeCount=         "6"
                        
                    blendMode=          "screen"
                    primaryColor=       "#feff00"
                    secondaryColor=     "#ff7f00"
                    >
                <Events>
                    <GetParameters>
                        (block (
                            (damageHP (@ gData 'damageHP))
                            )
                            {
                                radius: (mathScale damageHP 50 680 30 60 50)
                                intensity: (mathScale damageHP 50 680 20 25 50)
                                }
                            )
                    </GetParameters>
                </Events>
            </Orb>
            <Orb
                    style=              "smooth"
                        
                    blendMode=          "screen"
                    primaryColor=       "#feff00"
                    secondaryColor=     "#ff7f00"
                    >
                <Events>
                    <GetParameters>
                        (block (
                            (damageHP (@ gData 'damageHP))
                            )
                            {
                                radius: (mathScale damageHP 50 680 30 60 50)
                                intensity: (mathScale damageHP 50 680 20 25 50)
                                }
                            )
                    </GetParameters>
                </Events>
            </Orb>
        </Effect>
    </EffectType>
    
    <EffectType UNID="&efSiegeLordXortekPlasmaProj;"
            instance=           "creator"
            >
        <Effect>
            <ParticleSystem
                    style=              "jet"
                    fixedPos=           "true"
                    emitRate=           "40"
                    tangentSpeed=       "-4-4"
                    particleLifetime=   "1-6"
                    XformTime=          "0"
                    >
                <ParticleEffect>
                    <Particle
                            style=          "plain"
                            minWidth=       "1"
                            maxWidth=       "3"
                            primaryColor=   "#FFECD8"
                            secondaryColor= "#ff7f00"
                            />
                </ParticleEffect>
            </ParticleSystem>
            <Orb
                    style=              "smooth"
                    spikeCount=         "6"
                        
                    blendMode=          "screen"
                    primaryColor=       "#feff00"
                    secondaryColor=     "#ff7f00"
                    >
                <Events>
                    <GetParameters>
                        (block (
                            (damageHP (@ gData 'damageHP))
                            )
                            {
                                radius: (mathScale damageHP 50 680 20 40 50)
                                intensity: (mathScale damageHP 50 680 20 25 50)
                                }
                            )
                    </GetParameters>
                </Events>
            </Orb>
        </Effect>
    </EffectType>
    
    <EffectType UNID="&efSiegeLordXortekPlasmaFire;"
            instance=           "owner"
            >
        <Effect>
            <Ray    style=          "smooth"
                    shape=          "tapered"
                    primaryColor=   "#FFBE7D"
                    secondaryColor= "#ff7f00"
                    xformRotation=  "180"
                    
                    lifetime=       "3"
                    animate=        "fade"
                    >
                <Events>
                    <GetParameters>
                        (block (damageHP)
                            (setq damageHP (@ gData 'damageHP))

                            {
                                length: (mathScale damageHP 5 64 16 64 50)
                                width: (mathScale damageHP 5 64 16 64 50)
                                intensity: 70
                                }
                            )
                    </GetParameters>
                </Events>
            </Ray>
        </Effect>
    </EffectType>
</TranscendenceModule>
